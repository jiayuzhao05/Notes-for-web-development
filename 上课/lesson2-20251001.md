lesson2课程总结：

**一套规则如何监听两个进程？**

```javascript
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=<>, initial-scale=1.0">
    <title>用户操作js</title>
</head>
<body>
    <button id="btnA" class="btn">获取验证码a</button> 
    <button id="btnB" class="btn">获取验证码b</button>

    <script>
        //method1
        /**const btnAElement = document.querySelector('#btnA')
        const btnBElement = document.querySelector('#btnB')

        function helloFun(){
            const btnElement = this //quote btn
            if (btnElement.disabled) return //avoid repeated click
            this.disabled = true
            let i = 5
            this.textContent = `${i}s后倒计时`

            let timer = setInterval(function(){
                i--
                if (i>0) {
                    btnElement.textContent = `${i}s后倒计时`
                } else {
                    clearInterval(timer)
                    btnElement.textContent = '获取验证码'
                    btnElement.disabled = false
                }
            },1000)
        }

        btnAElement.addEventListener('click',helloFun)
        btnBElement.addEventListener('click',helloFun)**/
        
        //method2 class
        const btnElement = document.querySelectorAll('.btn')

        btnElement.forEach(btnElement=>{
            btnElement.addEventListener('click',function(){
                const btnElement = this
                if (btnElement.disabled) return
                this.disabled = true

                let i = 5
                btnElement.textContent = `after ${i}s, get verification code again`

                let timer = setInterval(function(){
                    i--
                    if(i>0) {
                        btnElement.textContent = `after ${i}s, get verification code again`
                    } else {
                        clearInterval(timer)
                        btnElement.textContent = 'get verification code'
                        btnElement.disabled = false
                }
             },1000)
            })
            })
    </script>
</body>
</html>

<!--用户点击按钮 => 用户监听
禁用 => js执行 DOM渲染更新 浏览器渲染帧
5s 倒计时
恢复按钮原样 -->
```

document.querySelector('.btn') 只返回第一个元素

document.querySelectorAll('.btn') -> nodelist -> foreach遍历



this.disabled = true  # this指代当前元素 很复杂

箭头函数，this丢失 继承外层作用域 需要保存

setInterval(func, delay(ms), arg1, arg2) 



下节课： html文件的网站图标



浏览器两种作用：打开文件和解析网页（js，css，png-> html）



**事件名称补全**

```javascript
//1.mouse
//click
element.addEventListener('click', () => console.log('单击'));
//dblclick
element.addEventListener('dblclick', () => console.log('双击'));
//mousedown：按下鼠标按钮时触发
//mouseup：释放鼠标按钮时触发
//mousemove：鼠标移动时触发（频繁触发）
//mouseover：鼠标进入元素范围时触发（包括子元素）
//mouseout：鼠标离开元素范围时触发（包括子元素）
//mouseenter：鼠标进入当前元素时触发（不冒泡）
//mouseleave：鼠标离开当前元素时触发（不冒泡）
//contextmenu：右键菜单事件

//2.keyboard
document.addEventListener('keydown', e => console.log('按下:', e.key));
//keydown：按下键盘时触发（常用）
//keypress：按下字符键时触发（已被废弃，不推荐）
//keyup：释放键盘按键时触发

//3.form
input.addEventListener('input', e => console.log('当前输入:', e.target.value));
//input：输入内容改变时触发（实时）
//change：输入内容改变后、失去焦点时触发
//focus：元素获得焦点时触发
//blur：元素失去焦点时触发
//submit：表单提交时触发
//reset：表单重置时触发

//4.window/form
window.addEventListener('resize', () => console.log('窗口变化'));
//load：页面资源加载完成后触发
//DOMContentLoaded：HTML 解析完成触发（比 load 更快，常用于初始化）
//resize：窗口大小变化时触发
//scroll：滚动时触发（常用于懒加载、返回顶部按钮）
//beforeunload：页面关闭/刷新前触发

//5.other
// touchstart / touchend / touchmove（移动端触摸事件）
// transitionend：CSS 过渡动画完成时触发
// animationend：CSS 动画结束时触发
// drag / dragstart / dragend / dragover / drop：拖拽相关事件
// visibilitychange：页面可见性变化时触发（如切换标签页）
```



**回调函数**

函数作为参数调用 避免回调地狱（promise 和 async/await优化）

```javascript
function sayHello(name){
  console.log("hello"+name);
}

function processUserInpt(callback){
  let name="alice";
  callback(name); //fn
}

processUserInput(sayHello);
```



使用DOM API（比如queryselector）获取元素，从而渲染和修改



